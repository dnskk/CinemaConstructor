@model CinemaConstructor.Models.CompanyViewModels.DesignViewModel
@{
    ViewData["Title"] = "Design editing";
}
<h2>@ViewData["Title"]</h2>
<hr />

<link rel="stylesheet" href="~/plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css">

<form asp-controller="Company" asp-action="Design" asp-route-returnurl="@ViewData["ReturnUrl"]" method="post" class="form-horizontal">
    <div class="form-group">
        <label asp-for="AccentColorFirst"></label>
        <div class="col-md-10">
            <div class="input-group my-colorpicker1 colorpicker-element" data-colorpicker-id="2">
                <input asp-for="AccentColorFirst" type="text" class="form-control" data-original-title="" title="">
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fas fa-square" style="color: rgb(164, 135, 135);"></i></span>
                </div>
                <span asp-validation-for="AccentColorFirst" class="text-danger"></span>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label asp-for="AccentColorSecond"></label>
        <div class="col-md-10">
            <div class="input-group my-colorpicker2 colorpicker-element" data-colorpicker-id="2">
                <input asp-for="AccentColorSecond" type="text" class="form-control" data-original-title="" title="">
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fas fa-square" style="color: rgb(164, 135, 135);"></i></span>
                </div>
                <span asp-validation-for="AccentColorSecond" class="text-danger"></span>
            </div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-offset-2 col-10">
            <button type="submit" class="btn btn-primary">Save</button>
        </div>
    </div>
</form>

<script src="~/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
<script>
    $(function () {
        $('.my-colorpicker1 .fa-square').css('color', '@Model.AccentColorFirst');
        $('.my-colorpicker2 .fa-square').css('color', '@Model.AccentColorSecond');

        $('.my-colorpicker1').colorpicker();

        $('.my-colorpicker1').on('colorpickerChange',
            function (event) {
                $('.my-colorpicker1 .fa-square').css('color', event.color.toString());
            });
        
        $('.my-colorpicker2').colorpicker();

        $('.my-colorpicker2').on('colorpickerChange',
            function (event) {
                $('.my-colorpicker2 .fa-square').css('color', event.color.toString());
            });
    })
</script>