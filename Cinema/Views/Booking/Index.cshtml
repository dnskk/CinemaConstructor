@model BookingViewModel

@{
    ViewData["Title"] = "Home Page";
}
<section class="section details">
    <div class="details__bg" data-bg="img/home/home__bg.jpg"></div>
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h1 class="details__title">I Dream in Another Language</h1>
            </div>
            <div class="col-10">
                <div class="card card--details card--series">
                    <div class="row">
                        <div class="col-12 col-sm-3 col-md-3 col-lg-2 col-xl-2">
                            <div class="card__cover">
                                <img src="img/covers/cover.jpg" alt="">
                            </div>
                        </div>
                        <div class="col-12 col-sm-9 col-md-9 col-lg-10 col-xl-10">
                            <div class="card__content">
                                <ul style="margin-top: 0;" class="card__meta">
                                    <li><span>Cinema:</span> @Model.FilmSession.Hall.Cinema.Name</li>
                                    <li><span>Address:</span> @Model.FilmSession.Hall.Cinema.Address</li>
                                    <li><span>Hall:</span> @Model.FilmSession.Hall.Name</li>
                                    <li><span>3D:</span> @(Model.FilmSession.Hall.Is3D ? "Yes" : "No")</li>
                                    <li><span>IMAX:</span> @(Model.FilmSession.Hall.IsImax ? "Yes" : "No")</li>
                                    <li><span>Date:</span> @(Model.FilmSession.StartTime.ToString("MM\\/dd\\/yyyy"))</li>
                                    <li><span>Start:</span> @(Model.FilmSession.StartTime.ToString("HH\\:mm"))</li>
                                    <li><span>End:</span> @(Model.FilmSession.EndTime.ToString("HH\\:mm"))</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12" style="margin-top: 20px;">
                <div class="accordion" id="accordion">
                    <h3 class="card__title">Select places</h3>
                    <separator2></separator2>
                    <div class="screen">Screen</div>
                    <div>
                        <table style="height: 400px; width: 100%">
                            @for (var i = 0; i < Model.FilmSession.Hall.Rows; i++)
                            {
                                <tr>
                                    @for (var j = 0; j < Model.FilmSession.Hall.Columns; j++)
                                    {
                                        <td style="width: calc(100% / @Model.FilmSession.Hall.Columns); height: calc(100% / @Model.FilmSession.Hall.Rows);">
                                            <div id="@(i + "_" + j)" class="place"></div>
                                        </td>
                                    }
                                </tr>
                            }
                        </table>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

<script>
    rows = @Model.FilmSession.Hall.Rows;
    columns = @Model.FilmSession.Hall.Columns;
    var hallTable = JSON.parse("@Model.FilmSession.Hall.HallTableJson");
    for (var i = 0; i < rows; i++) {
        var trArray = [];
        for (var j = 0; j < columns; j++) {
            var place = document.getElementById(i + "_" + j);
            if (hallTable[i][j]) {
                place.classList.add("available");
            }
        }
    }
</script>